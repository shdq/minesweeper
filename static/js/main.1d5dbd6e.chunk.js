(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{18:function(e,t,n){e.exports=n(30)},24:function(e,t,n){},30:function(e,t,n){"use strict";n.r(t);var i=n(0),a=n.n(i),s=n(9),r=n.n(s),o=(n(24),n(4)),h=n(5),l=n(8),d=n(6),c=n(3),u=n(7),f=n(1),p=n(2);function g(){var e=Object(f.a)([""]);return g=function(){return e},e}var v=p.a.span(g()),m=function(e){function t(e){var n;return Object(o.a)(this,t),(n=Object(l.a)(this,Object(d.a)(t).call(this,e))).state={time:0},n}return Object(u.a)(t,e),Object(h.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.timerID=setInterval(function(){return e.tick()},1e3)}},{key:"componentWillUnmount",value:function(){clearInterval(this.timerID)}},{key:"componentDidUpdate",value:function(e){var t=this;this.props.restarted!==e.restarted&&(clearInterval(this.timerID),this.setState({time:0}),this.timerID=setInterval(function(){return t.tick()},1e3))}},{key:"tick",value:function(){this.setState(function(e){return{time:e.time+1}})}},{key:"render",value:function(){return"\ud83d\ude42"!==this.props.mood&&clearInterval(this.timerID),a.a.createElement(v,null,this.state.time.toString().padStart(3,"0"))}}]),t}(i.Component);function b(){var e=Object(f.a)([""]);return b=function(){return e},e}var w=p.a.span(b());var k=function(e){return a.a.createElement(w,null,e.flagged>=0?e.flagged.toString().padStart(3,"0"):e.flagged.toString().padStart(3,"\xa0"))};function O(){var e=Object(f.a)(["\n  position: relative;\n  width: 40px;\n  height: 40px;\n  background-color: ",";\n  display: inline-flex;\n  align-items: center;\n  justify-content: center;\n  font-size: 1.5rem;\n  cursor: default;\n\n  -webkit-touch-callout: none;\n  -webkit-user-select: none;\n  -moz-user-select: none;\n  -ms-user-select: none;\n  user-select: none;\n\n  color: ",";\n  font-weight: 600;\n  border: 1px solid\n    ",';\n\n  &:before {\n    position: absolute;\n    top: 0px;\n    left: 0px;\n    content: "";\n    width: ',";\n    height: ",";\n    background-color: ",";\n  }\n\n  &:hover {\n    opacity: ",";\n  }\n"]);return O=function(){return e},e}function x(){var e=Object(f.a)(["\n  position: absolute;\n  top: 50%;\n  left: 50%;\n  margin-left: -12.5px;\n  margin-top: -12.5px;\n"]);return x=function(){return e},e}var y=p.a.span(x()),j=p.a.span(O(),function(e){return!e.isFlagged||e.isFlagged&&e.isOpened?"#ebf0f5":e.isFlagged&&e.isEven?"#c8d6e5":e.isFlagged&&!e.isEven?"#b6c3d1":void 0},function(e){switch(e.value){case 1:return"#4169e1;";case 2:return"#228b22";case 3:return"#dc143c";case 4:return"#00008b";case 5:return"#a0522d";case 6:return"#ff00ff";default:return"#000000;"}},function(e){return e.isEven||e.isOpened?"#c8d6e5":"#b6c3d1"},function(e){return e.isOpened||e.isFlagged?"0px":"40px"},function(e){return e.isOpened||e.isFlagged?"0px":"40px"},function(e){return e.isEven?"#c8d6e5":"#b6c3d1"},function(e){return e.isOpened?"":"0.85"}),C=function(e){function t(e){var n;return Object(o.a)(this,t),(n=Object(l.a)(this,Object(d.a)(t).call(this,e))).handleClick=n.handleClick.bind(Object(c.a)(n)),n.handleRightClick=n.handleRightClick.bind(Object(c.a)(n)),n.handleLongTouch=n.handleLongTouch.bind(Object(c.a)(n)),n.handleTouchEnd=n.handleTouchEnd.bind(Object(c.a)(n)),n}return Object(u.a)(t,e),Object(h.a)(t,[{key:"handleClick",value:function(e){e.preventDefault(),this.props.onCellClick({value:this.props.value,index:this.props.index,position:this.props.coordinates})}},{key:"handleRightClick",value:function(e){e.preventDefault(),this.props.onRightClick({value:this.props.value,index:this.props.index,position:this.props.coordinates})}},{key:"handleLongTouch",value:function(){var e=this;this.longPressTimerId=setTimeout(function(){e.longPressed=!0,e.props.onRightClick({value:e.props.value,index:e.props.index,position:e.props.coordinates})},500)}},{key:"handleTouchEnd",value:function(e){clearTimeout(this.longPressTimerId),this.longPressed&&(e.preventDefault(),this.longPressed=!1)}},{key:"render",value:function(){var e;return e=0===this.props.value?"":this.props.value,a.a.createElement(j,{onTouchStart:this.handleLongTouch,onTouchEnd:this.handleTouchEnd,isEven:this.props.isEven,isOpened:this.props.isOpened,isFlagged:this.props.isFlagged,onContextMenu:this.handleRightClick,onClick:this.handleClick,value:e},this.props.isFlagged&&this.props.isOpened?a.a.createElement(a.a.Fragment,null,e,a.a.createElement(y,{role:"img","aria-label":"Cross mark"},"\u274c")):this.props.isFlagged?"\ud83d\udea9":e)}}]),t}(i.Component),E=n(11),F=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:9,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:9,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:10;Object(o.a)(this,e),this.name="Field",this.bomb="\ud83d\udca3",this.width=t,this.height=n,this.mines=i,this.data=Array(this.width*this.height).fill(0)}return Object(h.a)(e,[{key:"width",value:function(){return this.width}},{key:"height",value:function(){return this.height}},{key:"mines",value:function(){return this.mines}},{key:"get",value:function(e,t){return e>this.height-1||t>this.width-1||e<0||t<0?-1:this.data[e*this.width+t]}},{key:"plant",value:function(){for(var e=this.mines;e>0;)for(var t=0;t<this.height;t++)for(var n=0;n<this.width;n++)e>0&&0===this.data[t*this.width+n]&&Math.random()<=.1&&(this.data[t*this.width+n]=this.bomb,e--)}},{key:"evaluate",value:function(){for(var e=0;e<this.height;e++)for(var t=0;t<this.width;t++){var n=0;this.get(e,t)!==this.bomb&&(this.get(e-1,t-1)===this.bomb&&n++,this.get(e-1,t)===this.bomb&&n++,this.get(e-1,t+1)===this.bomb&&n++,this.get(e,t-1)===this.bomb&&n++,this.get(e,t+1)===this.bomb&&n++,this.get(e+1,t-1)===this.bomb&&n++,this.get(e+1,t)===this.bomb&&n++,this.get(e+1,t+1)===this.bomb&&n++,this.data[e*this.width+t]=n)}}},{key:"closestCells",value:function(e,t){var n=this,i=[];return[[e-1,t-1],[e-1,t],[e-1,t+1],[e,t+1],[e+1,t+1],[e+1,t],[e+1,t-1],[e,t-1]].forEach(function(e){-1!==n.get.apply(n,Object(E.a)(e))&&i.push(e)}),i}},{key:"closest",value:function(e,t){var n=this,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:new Set,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];return i.add(e*this.width+t),this.closestCells(e,t).forEach(function(e){0!==n.get.apply(n,Object(E.a)(e))?i.add(e[0]*n.width+e[1]):i.has(e[0]*n.width+e[1])||a.push(e)}),a.length>0&&this.closest.apply(this,Object(E.a)(a.pop()).concat([i,a])),i}},{key:"init",value:function(){this.plant(),this.evaluate()}}]),e}();function S(){var e=Object(f.a)(['\n  display: inline-block;\n  width: auto;\n  font-size: 1rem;\n  font-weight: normal;\n  color: #2e5266;\n  line-height: 1.3;\n  padding: 0.6em 1.4em 0.5em 0.8em;\n  max-width: 100%;\n  box-sizing: border-box;\n  margin: 0;\n  border: 1px solid #aaa;\n  box-shadow: 0 1px 0 1px rgba(0, 0, 0, 0.04);\n  border-radius: 0.3em;\n  -moz-appearance: none;\n  -webkit-appearance: none;\n  appearance: none;\n  background-color: #fff;\n  background-image: url("data:image/svg+xml;charset=US-ASCII,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20width%3D%22292.4%22%20height%3D%22292.4%22%3E%3Cpath%20fill%3D%22%232E5266%22%20d%3D%22M287%2069.4a17.6%2017.6%200%200%200-13-5.4H18.4c-5%200-9.3%201.8-12.9%205.4A17.6%2017.6%200%200%200%200%2082.2c0%205%201.8%209.3%205.4%2012.9l128%20127.9c3.6%203.6%207.8%205.4%2012.8%205.4s9.2-1.8%2012.8-5.4L287%2095c3.5-3.5%205.4-7.8%205.4-12.8%200-5-1.9-9.2-5.5-12.8z%22%2F%3E%3C%2Fsvg%3E"),\n    linear-gradient(to bottom, #ffffff 0%, #e5e5e5 100%);\n  background-repeat: no-repeat, repeat;\n  background-position: right 0.7em top 50%, 0 0;\n  background-size: 0.65em auto, 100%;\n\n  &:focus {\n    border-color: #aaa;\n    box-shadow: 0 0 1px 3px rgba(59, 153, 252, 0.7);\n    box-shadow: 0 0 0 3px -moz-mac-focusring;\n    outline: none;\n  }\n\n  &::-ms-expand {\n    display: none;\n  }\n']);return S=function(){return e},e}function D(){var e=Object(f.a)(["\n  display: flex;\n  justify-content: space-around;\n  align-items: center;\n  font-size: 1.2rem;\n  color: #2e5266;\n  margin-top: 10px;\n"]);return D=function(){return e},e}function I(){var e=Object(f.a)(["\n  border: 1px solid #b6c3d1;\n  display: flex;\n  flex-wrap: wrap;\n  width: ",";\n"]);return I=function(){return e},e}function T(){var e=Object(f.a)(["\n  cursor: pointer;\n"]);return T=function(){return e},e}function z(){var e=Object(f.a)(['\n  display: flex;\n  justify-content: space-between;\n  font-family: source-code-pro, Menlo, Monaco, Consolas, "Courier New",\n    monospace;\n  font-size: 2rem;\n  color: #2e5266;\n']);return z=function(){return e},e}var M=p.a.div(z()),L=p.a.span(T()),R=p.a.span(I(),function(e){return 42*e.width+"px"}),A=p.a.span(D()),B=p.a.select(S()),P=function(e){function t(e){var n;Object(o.a)(this,t),n=Object(l.a)(this,Object(d.a)(t).call(this,e));var i=new F(9,9,10);return i.init(),n.state={mood:"\ud83d\ude42",isOpened:new Set,isFlagged:new Set,difficulty:"Beginner",field:i,restarted:0},n.handleLeftClick=n.handleLeftClick.bind(Object(c.a)(n)),n.openMines=n.openMines.bind(Object(c.a)(n)),n.restartGame=n.restartGame.bind(Object(c.a)(n)),n.handleDifficultyChange=n.handleDifficultyChange.bind(Object(c.a)(n)),n}return Object(u.a)(t,e),Object(h.a)(t,[{key:"handleDifficultyChange",value:function(e){var t,n,i;switch(e.target.value){case"Beginner":t=9,n=9,i=10;break;case"Intermediate":t=16,n=16,i=40;break;case"Advanced":t=30,n=16,i=99;break;default:t=9,n=9,i=10}var a=new F(t,n,i);a.init(),this.setState({mood:"\ud83d\ude42",isOpened:new Set,isFlagged:new Set,difficulty:e.target.value,field:a,restarted:this.state.restarted+1})}},{key:"openMines",value:function(){for(var e=this.state.isOpened,t=0;t<this.state.field.width*this.state.field.height;t++)"\ud83d\udca3"!==this.state.field.data[t]||this.state.isFlagged.has(t)||e.add(t),"\ud83d\udca3"!==this.state.field.data[t]&&this.state.isFlagged.has(t)&&e.add(t);return e}},{key:"handleLeftClick",value:function(e){var t=this;if("\ud83d\ude42"===this.state.mood&&!this.state.isFlagged.has(e.index)){if(e.value>0&&this.state.isOpened.has(e.index)){var n=0;if(this.state.field.closestCells(e.position.i,e.position.j).forEach(function(e){var i=e[0]*t.state.field.width+e[1];t.state.isFlagged.has(i)&&n++}),n===e.value){var i=this.state.isOpened,a=this.state.field.closest(e.position.i,e.position.j),s=!1,r=this.state.field;if(a.forEach(function(e){t.state.isFlagged.has(e)||("\ud83d\udca3"===r.data[e]&&(r.data[e]="\ud83d\udca5",s=!0),i.add(e))}),s)return void this.setState({mood:"\ud83d\ude35",field:r,isOpened:this.openMines()});this.setState({isOpened:i})}}var o=this.state.isOpened;if(o.add(e.index),this.setState({isOpened:o}),"\ud83d\udca3"===e.value&&"\ud83d\ude0e"!==this.state.mood){var h=this.state.field;h.data[e.index]="\ud83d\udca5",this.setState({mood:"\ud83d\ude35",field:h,isOpened:this.openMines()})}if(0===e.value){var l=this.state.isOpened;this.state.field.closest(e.position.i,e.position.j).forEach(function(e){t.state.isFlagged.has(e)||l.add(e)}),this.setState({isOpened:l})}this.state.isOpened.size===this.state.field.width*this.state.field.height-this.state.field.mines&&"\ud83d\udca3"!==e.value&&this.setState({mood:"\ud83d\ude0e"})}}},{key:"handleRightClick",value:function(e){if("\ud83d\ude42"===this.state.mood&&!this.state.isOpened.has(e.index)){var t=this.state.isFlagged;t.has(e.index)?t.delete(e.index):t.add(e.index),this.setState({isFlagged:t})}}},{key:"restartGame",value:function(){var e=this.state.restarted+1,t=new F(this.state.field.width,this.state.field.height,this.state.field.mines);t.init(),this.setState({mood:"\ud83d\ude42",isOpened:new Set,isFlagged:new Set,field:t,restarted:e})}},{key:"render",value:function(){var e=this,t=!1;this.grid=[];for(var n=0;n<this.state.field.height;n++)for(var i=0;i<this.state.field.width;i++){var s=n*this.state.field.width+i;t=!t,(s+1)%this.state.field.width===1&&this.state.field.width%2===0&&(t=!t),this.grid.push(a.a.createElement(C,{key:s.toString(),isEven:t,index:s,coordinates:{i:n,j:i},value:this.state.field.data[s],isOpened:this.state.isOpened.has(s),isFlagged:this.state.isFlagged.has(s),onCellClick:function(t){return e.handleLeftClick(t)},onRightClick:function(t){return e.handleRightClick(t)}}))}return a.a.createElement(a.a.Fragment,null,a.a.createElement(M,null,a.a.createElement(m,{mood:this.state.mood,restarted:this.state.restarted}),a.a.createElement(L,{onClick:this.restartGame},this.state.mood),a.a.createElement(k,{flagged:this.state.field.mines-this.state.isFlagged.size})),a.a.createElement(R,{width:this.state.field.width},this.grid),a.a.createElement(A,null,a.a.createElement("label",null,"Difficulty\xa0",a.a.createElement(B,{value:this.state.difficulty,onChange:this.handleDifficultyChange},a.a.createElement("option",{value:"Beginner"},"Beginner"),a.a.createElement("option",{value:"Intermediate"},"Intermediate"),a.a.createElement("option",{value:"Advanced"},"Advanced")))))}}]),t}(i.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r.a.render(a.a.createElement(P,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[18,1,2]]]);
//# sourceMappingURL=main.1d5dbd6e.chunk.js.map