(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{18:function(t,e,i){t.exports=i(30)},24:function(t,e,i){},30:function(t,e,i){"use strict";i.r(e);var n=i(0),s=i.n(n),a=i(9),h=i.n(a),r=(i(24),i(8)),o=i(6),d=i(3),l=i(7),c=i(16),u=i(4),p=i(5),f=i(1),g=i(2);function v(){var t=Object(f.a)([""]);return v=function(){return t},t}var m=g.a.span(v()),b=function(t){function e(t){var i;return Object(u.a)(this,e),(i=Object(r.a)(this,Object(o.a)(e).call(this,t))).state={time:0},i}return Object(l.a)(e,t),Object(p.a)(e,[{key:"componentDidMount",value:function(){var t=this;this.timerID=setInterval(function(){return t.tick()},1e3)}},{key:"componentWillUnmount",value:function(){clearInterval(this.timerID)}},{key:"componentDidUpdate",value:function(t){var e=this;this.props.restarted!==t.restarted&&(clearInterval(this.timerID),this.setState({time:0}),this.timerID=setInterval(function(){return e.tick()},1e3))}},{key:"tick",value:function(){this.setState(function(t){return{time:t.time+1}})}},{key:"render",value:function(){return"\ud83d\ude42"!==this.props.mood&&clearInterval(this.timerID),s.a.createElement(m,null,this.state.time.toString().padStart(3,"0"))}}]),e}(n.Component);function w(){var t=Object(f.a)([""]);return w=function(){return t},t}var k=g.a.span(w());var O=function(t){return s.a.createElement(k,null,t.flagged>=0?t.flagged.toString().padStart(3,"0"):t.flagged.toString().padStart(3,"\xa0"))};function y(){var t=Object(f.a)(["\n  position: relative;\n  width: 40px;\n  height: 40px;\n  background-color: ",";\n  display: inline-flex;\n  align-items: center;\n  justify-content: center;\n  font-size: 1.5rem;\n  cursor: default;\n\n  -webkit-touch-callout: none;\n  -webkit-user-select: none;\n  -moz-user-select: none;\n  -ms-user-select: none;\n  user-select: none;\n\n  color: ",";\n  font-weight: 600;\n  border: 1px solid\n    ",';\n\n  &:before {\n    position: absolute;\n    top: 0px;\n    left: 0px;\n    content: "";\n    width: ',";\n    height: ",";\n    background-color: ",";\n  }\n\n  &:hover {\n    opacity: ",";\n  }\n"]);return y=function(){return t},t}function j(){var t=Object(f.a)(["\n  position: absolute;\n  top: 50%;\n  left: 50%;\n  margin-left: -12.5px;\n  margin-top: -12.5px;\n"]);return j=function(){return t},t}var x=g.a.span(j()),C=g.a.span(y(),function(t){return!t.isFlagged||t.isFlagged&&t.isOpened?"#ebf0f5":t.isFlagged&&t.isEven?"#c8d6e5":t.isFlagged&&!t.isEven?"#b6c3d1":void 0},function(t){switch(t.value){case 1:return"#4169e1;";case 2:return"#228b22";case 3:return"#dc143c";case 4:return"#00008b";case 5:return"#a0522d";case 6:return"#ff00ff";default:return"#000000;"}},function(t){return t.isEven||t.isOpened?"#c8d6e5":"#b6c3d1"},function(t){return t.isOpened||t.isFlagged?"0px":"40px"},function(t){return t.isOpened||t.isFlagged?"0px":"40px"},function(t){return t.isEven?"#c8d6e5":"#b6c3d1"},function(t){return t.isOpened?"":"0.85"}),F=function(t){function e(t){var i;return Object(u.a)(this,e),(i=Object(r.a)(this,Object(o.a)(e).call(this,t))).handleClick=i.handleClick.bind(Object(d.a)(i)),i.handleRightClick=i.handleRightClick.bind(Object(d.a)(i)),i}return Object(l.a)(e,t),Object(p.a)(e,[{key:"handleClick",value:function(t){t.preventDefault(),this.props.onCellClick({value:this.props.value,index:this.props.index,position:this.props.coordinates})}},{key:"handleRightClick",value:function(t){t.preventDefault(),this.props.onRightClick({value:this.props.value,index:this.props.index,position:this.props.coordinates})}},{key:"render",value:function(){var t;return t=0===this.props.value?"":this.props.value,s.a.createElement(C,{isEven:this.props.index%2===0,isOpened:this.props.isOpened,isFlagged:this.props.isFlagged,onContextMenu:this.handleRightClick,onClick:this.handleClick,value:t},this.props.isFlagged&&this.props.isOpened?s.a.createElement(s.a.Fragment,null,t,s.a.createElement(x,{role:"img","aria-label":"Cross mark"},"\u274c")):this.props.isFlagged?"\ud83d\udea9":t)}}]),e}(n.Component);function E(){var t=Object(f.a)(["\n  border: 1px solid #b6c3d1;\n  display: flex;\n  flex-wrap: wrap;\n  width: ",";\n"]);return E=function(){return t},t}function S(){var t=Object(f.a)(["\n  cursor: pointer;\n"]);return S=function(){return t},t}function I(){var t=Object(f.a)(['\n  display: flex;\n  justify-content: space-between;\n  font-family: source-code-pro, Menlo, Monaco, Consolas, "Courier New",\n    monospace;\n  font-size: 2rem;\n  color: #2e5266;\n']);return I=function(){return t},t}var D=g.a.div(I()),M=g.a.span(S()),R=g.a.span(E(),function(t){return 42*t.width+"px"}),z=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:9,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:9,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:10;Object(u.a)(this,t),this.name="Field",this.bomb="\ud83d\udca3",this.width=e,this.height=i,this.mines=n,this.data=Array(this.width*this.height).fill(0)}return Object(p.a)(t,[{key:"width",value:function(){return this.width}},{key:"height",value:function(){return this.height}},{key:"mines",value:function(){return this.mines}},{key:"get",value:function(t,e){return t>this.height-1||e>this.width-1||t<0||e<0?-1:this.data[t*this.width+e]}},{key:"plant",value:function(){for(var t=this.mines;t>0;)for(var e=0;e<this.height;e++)for(var i=0;i<this.width;i++)t>0&&0===this.data[e*this.width+i]&&Math.random()<=.1&&(this.data[e*this.width+i]=this.bomb,t--)}},{key:"evaluate",value:function(){for(var t=0;t<this.height;t++)for(var e=0;e<this.width;e++){var i=0;this.get(t,e)!==this.bomb&&(this.get(t-1,e-1)===this.bomb&&i++,this.get(t-1,e)===this.bomb&&i++,this.get(t-1,e+1)===this.bomb&&i++,this.get(t,e-1)===this.bomb&&i++,this.get(t,e+1)===this.bomb&&i++,this.get(t+1,e-1)===this.bomb&&i++,this.get(t+1,e)===this.bomb&&i++,this.get(t+1,e+1)===this.bomb&&i++,this.data[t*this.width+e]=i)}}},{key:"closest",value:function(t,e){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:new Set,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],s=[t-1,e-1],a=[t-1,e],h=[t-1,e+1],r=[t,e-1],o=[t,e+1],d=[t+1,e-1],l=[t+1,e],u=[t+1,e+1];return i.add(t*this.width+e),this.get.apply(this,s)>=0&&(0!==this.get.apply(this,s)?i.add(s[0]*this.width+s[1]):i.has(s[0]*this.width+s[1])||n.push(s)),this.get.apply(this,a)>=0&&(0!==this.get.apply(this,a)?i.add(a[0]*this.width+a[1]):i.has(a[0]*this.width+a[1])||n.push(a)),this.get.apply(this,h)>=0&&(0!==this.get.apply(this,h)?i.add(h[0]*this.width+h[1]):i.has(h[0]*this.width+h[1])||n.push(h)),this.get.apply(this,r)>=0&&(0!==this.get.apply(this,r)?i.add(r[0]*this.width+r[1]):i.has(r[0]*this.width+r[1])||n.push(r)),this.get.apply(this,o)>=0&&(0!==this.get.apply(this,o)?i.add(o[0]*this.width+o[1]):i.has(o[0]*this.width+o[1])||n.push(o)),this.get.apply(this,d)>=0&&(0!==this.get.apply(this,d)?i.add(d[0]*this.width+d[1]):i.has(d[0]*this.width+d[1])||n.push(d)),this.get.apply(this,l)>=0&&(0!==this.get.apply(this,l)?i.add(l[0]*this.width+l[1]):i.has(l[0]*this.width+l[1])||n.push(l)),this.get.apply(this,u)>=0&&(0!==this.get.apply(this,u)?i.add(u[0]*this.width+u[1]):i.has(u[0]*this.width+u[1])||n.push(u)),n.length>0&&this.closest.apply(this,Object(c.a)(n.pop()).concat([i,n])),i}},{key:"init",value:function(){this.plant(),this.evaluate()}}]),t}(),G=function(t){function e(t){var i;Object(u.a)(this,e),i=Object(r.a)(this,Object(o.a)(e).call(this,t));var n=new z(9,9,10);return n.init(),i.state={mood:"\ud83d\ude42",isOpened:new Set,isFlagged:new Set,field:n,restarted:0},i.handleLeftClick=i.handleLeftClick.bind(Object(d.a)(i)),i.openMines=i.openMines.bind(Object(d.a)(i)),i.restartGame=i.restartGame.bind(Object(d.a)(i)),i}return Object(l.a)(e,t),Object(p.a)(e,[{key:"openMines",value:function(){for(var t=this.state.isOpened,e=0;e<this.state.field.width*this.state.field.height;e++)"\ud83d\udca3"!==this.state.field.data[e]||this.state.isFlagged.has(e)||t.add(e),"\ud83d\udca3"!==this.state.field.data[e]&&this.state.isFlagged.has(e)&&t.add(e);return t}},{key:"handleLeftClick",value:function(t){var e=this;if("\ud83d\ude42"===this.state.mood&&!this.state.isFlagged.has(t.index)){var i=this.state.isOpened;if(i.add(t.index),this.setState({isOpened:i}),"\ud83d\udca3"===t.value&&"\ud83d\ude0e"!==this.state.mood){var n=this.state.field;n.data[t.index]="\ud83d\udca5",this.setState({mood:"\ud83d\ude35",field:n,isOpened:this.openMines()})}if(0===t.value){var s=this.state.isOpened;this.state.field.closest(t.position.i,t.position.j).forEach(function(t){e.state.isFlagged.has(t)||s.add(t)}),this.setState({isOpened:s})}this.state.isOpened.size===this.state.field.width*this.state.field.height-this.state.field.mines&&"\ud83d\udca3"!==t.value&&this.setState({mood:"\ud83d\ude0e"})}}},{key:"handleRightClick",value:function(t){if("\ud83d\ude42"===this.state.mood&&!this.state.isOpened.has(t.index)){var e=this.state.isFlagged;e.has(t.index)?e.delete(t.index):e.add(t.index),this.setState({isFlagged:e})}}},{key:"restartGame",value:function(){var t=this.state.restarted+1,e=new z(9,9,10);e.init(),this.setState({mood:"\ud83d\ude42",isOpened:new Set,isFlagged:new Set,field:e,restarted:t})}},{key:"render",value:function(){var t=this;this.grid=[];for(var e=0;e<this.state.field.height;e++)for(var i=0;i<this.state.field.width;i++){var n=e*this.state.field.width+i;this.grid.push(s.a.createElement(F,{key:n.toString(),index:n,coordinates:{i:e,j:i},value:this.state.field.data[n],isOpened:this.state.isOpened.has(n),isFlagged:this.state.isFlagged.has(n),onCellClick:function(e){return t.handleLeftClick(e)},onRightClick:function(e){return t.handleRightClick(e)}}))}return s.a.createElement(s.a.Fragment,null,s.a.createElement(D,null,s.a.createElement(b,{mood:this.state.mood,restarted:this.state.restarted}),s.a.createElement(M,{onClick:this.restartGame},this.state.mood),s.a.createElement(O,{flagged:this.state.field.mines-this.state.isFlagged.size})),s.a.createElement(R,{width:this.state.field.width},this.grid))}}]),e}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));h.a.render(s.a.createElement(G,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(t){t.unregister()})}},[[18,1,2]]]);
//# sourceMappingURL=main.550ad07d.chunk.js.map